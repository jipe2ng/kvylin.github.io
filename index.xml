<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>余的记忆 on 余的记忆</title>
    <link>https://kvylin.github.io/</link>
    <description>Recent content in 余的记忆 on 余的记忆</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Mon, 24 Sep 2018 00:00:00 +0000</lastBuildDate>
    <atom:link href="/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>TCP BBR擁塞控制算法</title>
      <link>https://kvylin.github.io/2018/centos%E9%96%8B%E5%95%93bbr%E5%8A%9F%E8%83%BD/</link>
      <pubDate>Mon, 24 Sep 2018 00:00:00 +0000</pubDate>
      
      <guid>https://kvylin.github.io/2018/centos%E9%96%8B%E5%95%93bbr%E5%8A%9F%E8%83%BD/</guid>
      <description>

&lt;h1 id=&#34;tcp-bbr擁塞控制算法&#34;&gt;TCP BBR擁塞控制算法&lt;/h1&gt;

&lt;p&gt;BBR是谷歌在2016年提出的TCP擁塞控制算法，極大地提高了TCP的吞吐量，在Linux4.9的patch中正式加入。&lt;a href=&#34;https://github.com/google/bbr&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;項目更新在這裏&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;前提&#34;&gt;前提&lt;/h2&gt;

&lt;h3 id=&#34;tcp基於丟包的擁塞控制&#34;&gt;TCP基於丟包的擁塞控制&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;慢啓動階段：在建立新的TCP連接時，擁塞窗口（congestion window , 即cwnd）會初始化爲一個數據包大小，源斷按cwnd大小發送數據，每收到一個ACK確認，cwnd就增加一個數據包發送量，如此cwnd會隨着回路響應時間（RTT）的增加而增長。&lt;/li&gt;
&lt;li&gt;擁塞避免階段：若源斷發現超時或收到3個相同的ACK時，便認爲網絡發生了擁塞，進入擁塞避免階段。慢啓動閾值（ssthresh）被設置爲cwnd的一半；如果超時，擁塞窗口被置1。當cwnd&amp;gt;ssthresh，TCP就會執行擁塞避免算法。&lt;/li&gt;
&lt;li&gt;快速重傳階段：在這個階段中，接受方在收到失序的報文段後會馬上發出重複確認，而不要等到自己發送數據時捎帶確認。&lt;/li&gt;
&lt;li&gt;快速恢復階段：&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;bbr-v2更新啦-2018&#34;&gt;BBR v2更新啦（2018）&lt;/h2&gt;

&lt;h2 id=&#34;centos7下開啓bbr擁塞控制算法&#34;&gt;CentOS7下開啓BBR擁塞控制算法&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;查看Linux內核版本&lt;code&gt;unmae -a&lt;/code&gt;
開啓BBR的要求之一是內核版本必須在4.9以上&lt;/li&gt;
&lt;li&gt;升級內核版本

&lt;ul&gt;
&lt;li&gt;添加ELRepo GPG key&lt;code&gt;rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;添加源&lt;code&gt;rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;安裝fastestmirror&lt;code&gt;yum install yum-plugin-fastestmirror&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;安裝最新Kernel&lt;code&gt;yum --enablerepo=elrepo-kernel install kernel-ml&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;切換到新內核並重啓&lt;code&gt;grub2-set-default 0&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;開啓BBR

&lt;ul&gt;
&lt;li&gt;在終端中輸入
&lt;code&gt;vi /etc/sysctl.conf&lt;/code&gt;，並加入
&lt;code&gt;
net.core.default_qdisc=tcp_bbr
net.ipv4.tcp_congestion_control=bbr
&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;檢查是否設置成功
&lt;code&gt;
sysctl net.ipv4.tcp_available_congestion_control
sysctl net.ipv4.tcp_congestion_control
&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;檢查BBR是否正常運行&lt;code&gt;lsmod | grep tcp_bbr&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>大道至簡Hexo</title>
      <link>https://kvylin.github.io/2018/%E5%A4%A7%E9%81%93%E8%87%B3%E7%B0%A1hexo/</link>
      <pubDate>Mon, 03 Sep 2018 00:00:00 +0000</pubDate>
      
      <guid>https://kvylin.github.io/2018/%E5%A4%A7%E9%81%93%E8%87%B3%E7%B0%A1hexo/</guid>
      <description>

&lt;h1 id=&#34;大道至簡hexo&#34;&gt;大道至簡Hexo&lt;/h1&gt;

&lt;p&gt;Hexo 是一個由&lt;a href=&#34;http://nodejs.org/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;Node.js&lt;/a&gt;構建的快速、簡單且強大的網誌框架。&lt;/p&gt;

&lt;h1 id=&#34;安裝&#34;&gt;安裝&lt;/h1&gt;

&lt;h2 id=&#34;安裝環境&#34;&gt;安裝環境&lt;/h2&gt;

&lt;p&gt;Mac用戶在編譯時可能會碰到問題，請先至 App Store 安裝 Xcode，一旦 Xcode 安裝完成後，開啟它並前往 &lt;strong&gt;Preferences -&amp;gt; Download -&amp;gt; Command Line Tools -&amp;gt; Install&lt;/strong&gt; 安裝命令列工具。&lt;/p&gt;

&lt;h3 id=&#34;安裝node-js&#34;&gt;安裝Node.js&lt;/h3&gt;

&lt;p&gt;既然是由Node.js構建的網志框架，那必可不少的環境之一肯定是&lt;a href=&#34;http://nodejs.org/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;Node.js&lt;/a&gt;。這裏通過安裝包一鍵安裝，亦可通過本地編譯完成安裝。
安裝 Node.js 的最佳方式是透過 &lt;a href=&#34;https://github.com/creationix/nvm&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;Node Version Manager&lt;/a&gt;。感謝 nvm 的開發者提供簡易自動安裝的腳本指令：
cURL:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.2/install.sh | bash
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Wget:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.2/install.sh | bash
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;一旦安裝完成，重啟終端機並執行下列指令以安裝 Node.js。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;nvm install stable
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;安裝git&#34;&gt;安裝Git&lt;/h3&gt;

&lt;p&gt;安裝Git的最佳方式是透過&lt;a href=&#34;https://mxcl.github.com/homebrew/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;Homebrew&lt;/a&gt;安裝。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;brew install git
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;安裝hexo&#34;&gt;安裝Hexo&lt;/h3&gt;

&lt;p&gt;在終端下執行下列指令以安裝Hexo。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;npm install -g hexo-cli
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;截至目前，便完成了Hexo的基本安裝。&lt;/p&gt;

&lt;h1 id=&#34;配置&#34;&gt;配置&lt;/h1&gt;

&lt;p&gt;配置內容，比較複雜，供參考學習的資料網路上也是非常的多，但還是推薦也通讀一遍&lt;a href=&#34;https://hexo.io/zh-tw/docs/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;Hexo官方文檔&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hexo init &amp;lt;folder&amp;gt;
cd &amp;lt;folder&amp;gt;
npm install 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;如此網誌便已完成建立，在&lt;folder&gt;中會出現以下目錄
- _config.yml /*網站的配置文檔 */
- package.json /*nodejs的安裝包目錄 */
- scaffolds /&lt;em&gt;當您建立新文章時，Hexo 會根據 scaffold 來建立檔案&lt;/em&gt;/
- source /&lt;em&gt;原始檔案資料夾，放置檔案內容&lt;/em&gt;/
  - _drafts
  - _posts
 - themes /&lt;em&gt;主題資料夾&lt;/em&gt;/&lt;/p&gt;

&lt;h1 id=&#34;應用&#34;&gt;應用&lt;/h1&gt;

&lt;h2 id=&#34;指令&#34;&gt;指令&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;init
&lt;code&gt;$ hexo init [folder]&lt;/code&gt;
建立一個新的網站。如果沒有設定 folder 的話，Hexo 會在目前的資料夾建立網站。&lt;/li&gt;
&lt;li&gt;new
&lt;code&gt;$ hexo new [layout] &amp;lt;title&amp;gt;&lt;/code&gt;
建立一篇新的文章。如果沒有設定 layout 的話，則會使用 _config.yml 中的 default_layout 設定代替。如果標題包含空格的話，請使用引號括起來。&lt;/li&gt;
&lt;li&gt;generate
&lt;code&gt;$ hexo generate&lt;/code&gt;
產生靜態檔案。
-d, &amp;ndash;deploy    產生完成即部署網站
-w, &amp;ndash;watch 監看檔案變更&lt;/li&gt;
&lt;li&gt;publish
&lt;code&gt;$ hexo publish [layout] &amp;lt;filename&amp;gt;&lt;/code&gt;
發表草稿。&lt;/li&gt;
&lt;li&gt;server
&lt;code&gt;$ hexo server&lt;/code&gt;
啟動伺服器，預設是 &lt;a href=&#34;http://localhost:4000/。&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://localhost:4000/。&lt;/a&gt;
-p, &amp;ndash;port  覆蓋連接埠設定
-s, &amp;ndash;static    只使用靜態檔案
-l, &amp;ndash;log   啟動記錄器，或覆蓋記錄格式&lt;/li&gt;
&lt;li&gt;deploy
&lt;code&gt;$ hexo deploy&lt;/code&gt;
部署網站。
-g, &amp;ndash;generate  部署網站前先產生靜態檔案&lt;/li&gt;
&lt;li&gt;render
&lt;code&gt;$ hexo render &amp;lt;file&amp;gt; [file2] ...&lt;/code&gt;
渲染檔案。
-o, &amp;ndash;output    輸出位置&lt;/li&gt;
&lt;li&gt;migrate
&lt;code&gt;$ hexo migrate &amp;lt;type&amp;gt;&lt;/code&gt;
從其他系統 轉移內容。&lt;/li&gt;
&lt;li&gt;clean
&lt;code&gt;$ hexo clean&lt;/code&gt;
清除快取檔案 (db.json) 和已產生的靜態檔案 (public)。&lt;/li&gt;
&lt;li&gt;list
&lt;code&gt;$ hexo list &amp;lt;type&amp;gt;&lt;/code&gt;
列出網站資料。&lt;/li&gt;

&lt;li&gt;&lt;p&gt;version
&lt;code&gt;$ hexo version&lt;/code&gt;
顯示版本資訊。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;安全模式&lt;code&gt;hexo --safe&lt;/code&gt;
     在安全模式下，不會載入外掛和腳本。當您在安裝新外掛後遭遇問題時，可以嘗試以安全模式重新執行。&lt;/li&gt;
&lt;li&gt;除錯模式&lt;code&gt;hexo --debug&lt;/code&gt;
     在終端機中顯示除錯訊息並儲存記錄檔到 debug.log。當您碰到問題時，試著以除錯模式重新執行一次，並 把除錯訊息貼到 GitHub。&lt;/li&gt;
&lt;li&gt;安靜模式&lt;code&gt;hexo --silent&lt;/code&gt;
    隱藏終端機的訊息。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;自訂配置檔的路徑
&lt;code&gt;$ hexo --config custom.yml&lt;/code&gt;
自訂配置檔的路徑而不是使用 _config.yml。此參數也接受以逗號分隔的 JSON 或 YAML 檔列表字串 (不得含有空格)，它們將會被合併產生一個 _multiconfig.yml。
&lt;code&gt;$ hexo --config custom.yml,custom2.json&lt;/code&gt;
顯示草稿
&lt;code&gt;$ hexo --draft&lt;/code&gt;
顯示 source/_drafts 資料夾中的草稿文章。
自定 CWD
&lt;code&gt;$ hexo --cwd /path/to/cwd&lt;/code&gt;
自訂目前工作目錄（Current working directory）的路徑。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;立個flag：&lt;strong&gt;9月底完成對hexo的詳細剖析&lt;/strong&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>关”余“</title>
      <link>https://kvylin.github.io/about/</link>
      <pubDate>Wed, 09 Apr 2014 00:00:00 +0000</pubDate>
      
      <guid>https://kvylin.github.io/about/</guid>
      <description>

&lt;p&gt;#关于“余”&lt;/p&gt;

&lt;h2 id=&#34;这里&#34;&gt;这里&lt;/h2&gt;

&lt;h2 id=&#34;这里-1&#34;&gt;这里&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;- 这里
- 测试
- 2018.11
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>mikutap</title>
      <link>https://kvylin.github.io/chuyin/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://kvylin.github.io/chuyin/</guid>
      <description>

&lt;h1 id=&#34;mikutap-http-kvylin-com-mikutap&#34;&gt;&lt;a href=&#34;http://kvylin.com/mikutap&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;mikutap&lt;/a&gt;&lt;/h1&gt;
</description>
    </item>
    
  </channel>
</rss>